{% extends 'base.html' %}

{% block content %}
<style>
    .update-button,
    .delete-button {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        font-size: 14px;
        cursor: pointer;
        margin-top: 15px;
        transition: background-color 0.2s;
    }

    .update-button:hover {
        background-color: blue;
    }

    .delete-button {
        margin-top: 15px;
        transition: background-color 0.2s;
    }

    @media (max-width: 768px) {
        .update-button,
        .delete-button {
            margin-left: 0;
            margin-right: 0;
        }
    }
</style>

<div class="container">
    <div class="p-4 m-4">
        <div class='row'>
            <div class='col-lg-7 border rounded px-4 py-3 mx-auto'>
                <h4 class='text-center bg-warning alert'>Update Patient Details</h4>
                <form action="{% url 'update_patient' customer_id=customer.id %}" method="POST">
                    {% csrf_token %}
                    {% if error %}
                        <div class="alert alert-danger" role="alert">
                            {{error}}
                        </div>
                    {% endif %}
                    <div class="form-group">
                        <label for="patient_id">Patient Id/Employee Id</label>
                        <input type="text" class="form-control form-control-sm mt-2" id="patient_id" name="patient_id" value="{{ customer.patient_id }}">
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="patient_name">Patient Name</label>
                                <input type="text" class="form-control form-control-sm mt-2" id="patient_name"
                                    name="patient_name" value="{{ customer.patient_name }}">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="age">Age</label>
                                <input type="text" class="form-control form-control-sm mt-2" id="age" name="age"
                                    value="{{ customer.age }}">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="gender">Gender</label>
                                <select class="form-control form-control-sm mt-2" id="gender" name="gender">
                                    <option value="male" {% if customer.gender == 'male' %}selected{% endif %}>Male
                                    </option>
                                    <option value="female" {% if customer.gender == 'female' %}selected{% endif %}>
                                        Female</option>
                                    <option value="other" {% if customer.gender == 'other' %}selected{% endif %}>Other
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="weight">Weight</label>
                                <input type="text" class="form-control form-control-sm mt-2" id="weight" name="weight"
                                    value="{{ customer.weight }}">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="phone">Phone</label>
                                <input type="text" class="form-control form-control-sm mt-2" id="phone" name="phone"
                                    value="{{ customer.phone }}">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" class="form-control form-control-sm mt-2" id="email" name="email"
                                    value="{{ customer.email }}">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="address">Address</label>
                                <input type="text" class="form-control form-control-sm mt-2" id="address" name="address"
                                    value="{{ customer.address }}">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <center>
                                <button type="submit" class="update-button btn btn-primary btn-sm mt-4"><strong>Update</strong></button>
                            </center>
                        </div>
                    </div>
                </form>

                <!-- Delete Form Outside of Update Form -->
                <form action="{% url 'delete_patient' customer_id=customer.id %}" method="POST">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col">
                            <center>
                                <button type="submit" class="delete-button btn btn-danger btn-sm mt-4"><strong>Delete</strong></button>
                            </center>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
